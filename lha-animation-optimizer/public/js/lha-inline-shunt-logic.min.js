(function(){'use strict';function s(...e){window.lhaPreloadedSettings&&window.lhaPreloadedSettings.debugMode&&console.log('LHA Shunt:',...e)}s('Initializing.');window.lhaEarlyAnimationQueue=window.lhaEarlyAnimationQueue||[];window.LHA_Originals=window.LHA_Originals||{jquery:{},gsap:{}};s('Global queue and originals store initialized.');if(window.lhaPlayerScriptUrl){s('Player script URL:',window.lhaPlayerScriptUrl);try{var t=document.createElement('script');t.src=window.lhaPlayerScriptUrl;t.async=true;t.defer=true;(document.head||document.documentElement).appendChild(t);s('Loading player script.')}catch(e){console.error('LHA Shunt: Failed to inject player script.',e)}}else{console.error('LHA Shunt: lhaPlayerScriptUrl is not defined.')}function wrapJQueryMethods(){if(typeof window.jQuery!=='function'||typeof window.jQuery.fn!=='object'||window.jQuery.fn.lhaShuntWrapped){s('jQuery not ready or already wrapped, skipping jQuery wrapper setup.');return}s('jQuery found, attempting to wrap methods.');const r=['animate','fadeIn','fadeOut','slideDown','slideUp','slideToggle','fadeTo','fadeToggle'];r.forEach(function(n){if(typeof window.jQuery.fn[n]==='function'){if(!window.LHA_Originals.jquery[n]){window.LHA_Originals.jquery[n]=window.jQuery.fn[n]}window.jQuery.fn[n]=function(){const e=Array.prototype.slice.call(arguments);s("Queued jQuery '"+n+"' call. Target has "+(this.length||0)+" element(s). Args:",e.length?e:'<no args>');window.lhaEarlyAnimationQueue.push({type:'jquery',method:n,target:this,args:e});return this}}});window.jQuery.fn.lhaShuntWrapped=true;s('jQuery methods wrapped.')}function wrapGSAPMethods(){if(typeof window.gsap!=='object'||window.gsap.lhaShuntWrapped){s('GSAP not ready or already wrapped, skipping GSAP wrapper setup.');return}s('GSAP found, attempting to wrap methods.');const t=['to','from','fromTo'];t.forEach(function(n){if(typeof window.gsap[n]==='function'){if(!window.LHA_Originals.gsap[n]){window.LHA_Originals.gsap[n]=window.gsap[n]}window.gsap[n]=function(){const e=Array.prototype.slice.call(arguments);s("Queued GSAP '"+n+"' call. Args:",e.length?e:'<no args>');window.lhaEarlyAnimationQueue.push({type:'gsap',method:n,args:e});return undefined}}});window.gsap.lhaShuntWrapped=true;s('GSAP methods wrapped.')}try{wrapJQueryMethods()}catch(e){console.error('LHA Shunt: Error during jQuery method wrapping setup.',e)}try{wrapGSAPMethods()}catch(e){console.error('LHA Shunt: Error during GSAP method wrapping setup.',e)}})();
